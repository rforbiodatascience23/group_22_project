---
title: "03_describe"
author: "group22"
format:
  html:
    embed-resources: true
editor: visual
---

## Load libraries and data

```{r}
library("tidyverse")

df_cleaned <- read.table(file = "../data/02_dat_clean.tsv", sep = "\t", header = TRUE)

# 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
```

## Rename binary variables

### Smoking

Changing the smokers variable from binary format to categorical. The value "0" which indicates non-smokers is changed to "Non-Smoker", and the value "1" changed to "Smoker" respectively.

```{r}
df_cleaned <-
  df_cleaned |> 
  mutate(Smoking_Status = case_when(
    Smoker == 0 ~ "Non-Smoker",
    Smoker == 1 ~ "Smoker"
  ))
```

### Age

The age was changed from the 13-level age category to the corresponding range values.

```{r}
df_cleaned <-
  df_cleaned |> 
  mutate(Age_Range = case_when(
    Age == 1 ~ "18-24",
    Age == 2 | Age == 3 ~ "25-34",
    Age == 4 | Age == 5 ~ "35-44",
    Age == 6 | Age == 7 | Age == 8 ~ "45-59",
    Age == 9 | Age == 10 | Age == 11 ~ "60-74",
    Age == 12 | Age == 13 ~ "75-"))
```

### Income

Income variable changed from a scale from 1-9 to three classes: Poor, Average and Wealthy.

```{r}
df_cleaned <-
  df_cleaned |> 
  mutate(Income_Class = case_when(
    Income <= 3 ~ "Poor",
    Income  > 3 & Income <= 6 ~ "Average",
    Income > 6 ~ "Wealthy"))
```

## Plot

```{r}
  library(ggridges)
library(RColorBrewer)
df_cleaned |> 
  ggplot(aes(x = BMI, y = Age_Range)) +
  geom_density_ridges(aes(fill = Age_Range) ,alpha=0.3) + 
  facet_wrap(~Smoking_Status)+
  labs(x = "BMI",
       y = "Age Group") +
  theme_minimal()+
  scale_fill_viridis_d()
```
